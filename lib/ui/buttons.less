#g {
  .button() {
    display: inline-flex;
    @border-width: #g.shapes[@border-width];
    @border-offset: #g.shapes[@border-offset];
    @border-gap: (@border-width + @border-offset) * 1px;

    border: none;
    text-align: center;
    text-decoration: none;
    // background-size: calc(100% - (@border-gap * 2)) calc(100% - (@border-gap * 2));

    @gap: #g.layout[@gap];
    @ratio: #g.shapes[@inline-box-ratio];
    .set-padding(@gap) {
      @padding-y: (@gap / @ratio);
      @padding-x: @gap;
      padding: @padding-y @padding-x;
    }
    .set-padding(@gap);
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    position: relative;

    > * {
      position: relative;
      z-index: 2;
    }

    // border
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      right: 0;
      border: @border-width solid transparent;
      border-radius: (#g.shapes[@border-radius] + @border-gap);
      z-index: 1;
    }

    // background
    &::after {
      content: '';
      position: absolute;
      left: @border-gap;
      top: @border-gap;
      bottom: @border-gap;
      right: @border-gap;
      background-repeat: no-repeat;
      border-radius: #g.shapes[@border-radius];
      z-index: 1;
    }

    &.xs {
      .set-padding(@gap * 0.5);
      font-size: 0.8rem;
    }
    &.s {
      .set-padding(@gap * 0.75);
      font-size: 0.875rem;
    }
    &.l {
      .set-padding(@gap * 1.25);
      font-size: 1.25rem;
    }
    &.xl {
      .set-padding(@gap * 1.5);
      font-size: 1.5rem;
    }
  }

  .button(@variant) {
    @bg: #g.colors[@@variant];
    @light: boolean((luma(@bg) > 50%));
    @bg-top: saturate(lighten(@bg, #g.shapes[@depth]), #g.shapes[@depth]);
    @bg-bottom: darken(@bg, #g.shapes[@depth]);
    
    &::after {
      background-image: linear-gradient(to bottom, @bg-top, @bg-bottom);
    }
    color: if((@light), black, white);

    &::before {
      border-color: saturate(lighten(@bg-top, #g.colors[@contrast]), #g.colors[@contrast]);
    }

    &:hover {
      @base: if((@light), 
        saturate(lighten(@bg, #g.colors[@contrast]), #g.colors[@contrast]), 
        lighten(@bg, #g.colors[@contrast])
      );
      @top: saturate(lighten(@base, #g.shapes[@depth]), #g.shapes[@depth]);
      @bottom: saturate(lighten(@bg-bottom, #g.shapes[@depth]), #g.shapes[@depth]);
      
      &::before {
        border-color: @base;
      }

      &::after {
        background-image: linear-gradient(to bottom, @top, @bottom);
      }
    }

    &:active {
      @base: darken(@bg, (#g.colors[@contrast] / 2));
      @top: lighten(@base, #g.shapes[@depth]);
      @bottom: @base;

      &::before {
        border-color: @base;
      }

      &::after {
        background-image: linear-gradient(to bottom, @top, @bottom);
      }
    }
  }
}

// @svg: {
//   defs {
//     linearGradient {
//       id: linear; x1: 0%; x2: 100%; y1: 0%; y2: 100%;
//       stop {
//         offset: 0%;
//         stop-color: #0a5;
//         stop-opacity: 1.0;
//       }
//       stop {
//         offset: 100%;
//         stop-color: #05a;
//         stop-opacity: 1.0;
//       }
//     } 
//   }

//   svg {
//     x: 0; y: 0; width: 100%; height: 100%; viewBox: 0 0 100 100; 
//     style {
//       width: calc(100% - 10px);
//       height: calc(100% - 10px);
//     }
//     preserveAspectRatio: none;
//     path {
//       d: ~'M0,0 h100 a10,10 0 0 1 10,10 v100 a10,10 0 0 1 -10,10 h-100 a10,10 0 0 1 -10,-10 v-100 a10,10 0 0 1 10,-10 z';
//       style {
//         // width: calc(100% - 2px);
//         // height: calc(100% - 2px);
//         // transform: translateX(1px) translateY(1px);
//       }
//       fill: none;
//       stroke: url(#linear);
//       stroke-width: 2px;
//     }
//   }
// };
// background-image: svg(@svg);